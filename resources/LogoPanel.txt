/* File generated by: simse.codegenerator.guigenerator.LogoPanelGenerator */
package simse.gui;

import java.util.Optional;

import javafx.event.EventHandler;
import javafx.geometry.Insets;
import javafx.scene.Cursor;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.scene.control.Button;
import javafx.scene.control.ButtonType;
import javafx.scene.control.Label;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.Pane;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;
import simse.SimSE;
import simse.gui.util.JavaFXHelpers;

public class LogoPanel extends Pane implements EventHandler<MouseEvent> {
	private String path = "src/simse/gui/images/layout/";

	private TabPanel tabPane;
	private StackPane logoPane;

	private Button aboutButton;

	private int selectedTabIndex = -1;

	private GridPane gridPane;

	private ImageView[] inactiveButton;
	private ImageView[] activeButton;
	private SimSEGUI gui;

	public LogoPanel(SimSEGUI g) {
		gui = g;
		gridPane = new GridPane();
		this.getChildren().add(gridPane);
		this.setBackground(JavaFXHelpers.createBackgroundColor(Color.rgb(102, 102, 102, 1)));
	
		aboutButton = new Button("", JavaFXHelpers.createImageView(path + "simselogo-about.gif"));
		aboutButton.setPadding(new Insets(0,-5,-5,0));
		aboutButton.addEventHandler(MouseEvent.ANY, this);
	
		
		this.getChildren().add(aboutButton);
		

	}

	public void setTabPanel(TabPanel tab) {
		if (tabPane == null)
			tabPane = tab;
	}

	public int getSelectedTabIndex() {
		return selectedTabIndex;
	}

	public void addLabel(Label lb, int x, int y, int rowspan, int colspan, GridPane gp) {
		lb.setBackground(JavaFXHelpers.createBackgroundColor(new Color(0, 0, 0, 0)));
		gp.add(lb, x, y, colspan, rowspan);
	}

	@Override
	public void handle(MouseEvent event) {
		Object source = event.getSource();
		if (event.getEventType() == MouseEvent.MOUSE_ENTERED) {
			if (source instanceof Button) {
				setCursor(Cursor.HAND);
			}
		} else if (event.getEventType() == MouseEvent.MOUSE_EXITED) {
			setCursor(Cursor.DEFAULT);
		} else if (event.getEventType() == MouseEvent.MOUSE_CLICKED) {
			if (source.equals(aboutButton)) {
				SimSEAboutDialog about = new SimSEAboutDialog();
				about.setX(300);
				about.setY(300);
				about.show();
			}

			tabPane.setGUIChanged();
			if (tabPane != null)
				tabPane.update();
		}
	}
}
