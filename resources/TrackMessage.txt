package simse.gui;

import javafx.scene.image.ImageView;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Pane;
import javafx.scene.paint.Color;
import javafx.scene.text.Text;
import simse.adts.objects.Customer;
import simse.adts.objects.Employee;
import simse.gui.util.JavaFXHelpers;

public class TrackMessage extends Pane{
	
	Object sender;
	String message;
	
	public TrackMessage(Object sender, String name, String text) {
		this.sender = sender;
		this.message = text;
		
		GridPane pane = new GridPane();
		
		String imageUrl = TabPanel.getImage(this.sender);
		
		ImageView img = JavaFXHelpers.createImageView(imageUrl);
		pane.add(img, 0, 0);
		
		String key = "";
		if (sender instanceof Employee) {
			key = ((Employee) sender).getKeyAsString();
		} else if (sender instanceof Customer) {
			key = ((Customer) sender).getKeyAsString();
		}
		pane.add(new Text(key), 1, 0);

		HBox textBox = new HBox();
		textBox.setBackground(JavaFXHelpers.createBackgroundColor(Color.rgb(255, 255, 255)));
		textBox.getChildren().add(new Text(message));
		pane.add(textBox, 1, 1);
		
		this.getChildren().add(pane);
	}

}
